<!DOCTYPE html><html lang="en"><meta charset="UTF-8"><meta name="description" content="Sections, Style and Meta Data"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Team Watch</title><meta name="theme-color" content="#8bc34a"><link rel="manifest" href="../manifest.json"><link rel="stylesheet" href="../css/main.css"><body><script src="../firebase.js"></script><script src="../firebase-firestore.js"></script><div class="header"><h1>Team Watch</h1></div><table id="header-table"><tr><td class="header-td"><a class="header-link" href="../index.html">Home</a></td><td class="header-td"><a class="header-link" href="../game/game_schedule.html">Game</a></td><td class="header-td active"><a class="header-link" href="../player/player_list.html">Player</a></td><td class="header-td"><a class="header-link" href="../manage/view_profile.html">Manage</a></td></tr></table><script>var loadfile=function(e){document.getElementById("player_pic").src=URL.createObjectURL(e.target.files[0])}</script><table class="playerinfo"><tr><td><img id="player_pic" src="../images/profilepic.jpg" alt="profile pic"></td><td><input onchange="loadfile(event)" style="border-radius:.25rem" type="file" name="Add a photo" class="button" id="addphoto"><tr><td><label>First Name:</label></td><td><input name="fname" id="fname"><tr><td><label>Last Name:</label></td><td><input name="lname" id="lname"><tr><td><label>Email Name:</label></td><td><input name="email" id="email"><tr><td><label>Date of Birth:</label></td><td><input name="DOB" id="DOB"><tr><td><label>Jersey Number:</label></td><td><input name="number" id="number"><tr><td><label>Position:</label></td><td><input name="position" id="position"><tr><td><label>Captain:</label></td><td><select id="captain" name="captain"><option id="coption" selected="selected">No</option><option id="coption">Yes</option></select></td></tr></td></tr></td></tr></td></tr></td></tr></td></tr></td></tr></td></tr></table><div class="center" style="border-radius:.25rem"><input style="width:21rem;border-radius:.25rem" type="submit" value="Add player" class="button" id="addPlayer"></div><script src="../init.js"></script><script>function addPlayer(e,n){var t=document.getElementById("addphoto").files,a=firebase.storage().ref(),l=db.collection("teams/"+n+"/playerlist").doc();1==t.length?a.child(l.id).put(t[0]).then(function(t){a.child(l.id).getDownloadURL().then(function(t){e.profile_pic=t,addPlayerInfo(l,e,n)})}):addPlayerInfo(l,e,n)}function addPlayerInfo(e,n,t){e.set({name:n.name,fname:n.fname,lname:n.fname,email:n.email,DOB:n.DOB,number:n.number,position:n.position,profile_pic:n.profile_pic,captain:n.captain,goals:"0",assists:"0",shots:"0",reds:"0",yellows:"0",fouls:"0",pks:"0",cks:"0",gks:"0",throws:"0",games:"0"}).then(function(){location.href="player_list.html"})}var db=firebase.firestore();firebase.firestore().enablePersistence().catch(function(e){console.log(e)}),firebase.auth().onAuthStateChanged(function(e){e||(location.href="../login.html"),document.getElementById("addPlayer").onclick=function(){var n={name:"",fname:"",lname:"",email:"",DOB:"",number:"",position:"",name:"",profile_pic:"",captain:"",id:""};n.fname=document.getElementById("fname").value,n.lname=document.getElementById("lname").value,n.email=document.getElementById("email").value,n.DOB=document.getElementById("DOB").value,n.number=document.getElementById("number").value,n.position=document.getElementById("position").value,n.name=document.getElementById("fname").value+" "+document.getElementById("lname").value;for(var t=document.querySelectorAll("#coption"),a=0;a<t.length;a++)t[a].selected&&(n.captain=t[a].value);addPlayer(n,e.uid)}})</script></body></html>